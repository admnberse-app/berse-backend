# =============================================================================
# ENVIRONMENT CONFIGURATION EXAMPLE
# =============================================================================
# Copy this file to .env.local for development
# Never commit .env or .env.local to git!
# For Railway: Set these in Railway dashboard under Variables
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Development: Get this from Railway dev database
# Production/Staging: Railway auto-fills from linked PostgreSQL
DATABASE_URL="postgresql://postgres:password@containers-us-west-xxx.railway.app:7432/railway"
DATABASE_MAX_CONNECTIONS=20

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# IMPORTANT: Use different secrets for dev/staging/production!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="your-super-secret-jwt-key-here-min-64-chars"
JWT_REFRESH_SECRET="your-super-secret-refresh-jwt-key-here-min-64-chars"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV="development"
PORT=3001
API_URL="http://localhost:3001"

# CORS Configuration
CORS_ORIGIN="http://localhost:3000,http://localhost:5173"

# Redis Configuration (for caching and rate limiting)
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0

# Cookie Configuration
COOKIE_SECRET="your-cookie-secret-key-here"

# File Upload Configuration
MAX_FILE_SIZE="10mb"
UPLOAD_DIR="uploads"

# Digital Ocean Spaces Configuration
# For local development, you can use the staging space or leave empty to use local uploads
SPACES_ENDPOINT="https://sgp1.digitaloceanspaces.com"
SPACES_BUCKET="staging-berse-app"
SPACES_REGION="sgp1"
SPACES_ACCESS_KEY_ID="your-spaces-access-key"
SPACES_SECRET_ACCESS_KEY="your-spaces-secret-key"
SPACES_CDN_ENDPOINT="https://staging-berse-app.sgp1.cdn.digitaloceanspaces.com"

# Email Configuration (for notifications)
# -----------------------------------------------------------------------------
# Email Configuration
# -----------------------------------------------------------------------------
# Development: Use Mailtrap, MailHog, or similar test email service
# Production: Use Gmail, SendGrid, AWS SES, etc.
SMTP_HOST="smtp.mailtrap.io"
SMTP_PORT=2525
SMTP_USER="your-mailtrap-username"
SMTP_PASS="your-mailtrap-password"
FROM_EMAIL="noreply@berse.app"

# Frontend URL for emails
FRONTEND_URL="http://localhost:5173"
APP_URL="http://localhost:5173"

# External API Keys
GOOGLE_MAPS_API_KEY="your-google-maps-api-key"
CLOUDINARY_CLOUD_NAME="your-cloudinary-cloud-name"
CLOUDINARY_API_KEY="your-cloudinary-api-key"
CLOUDINARY_API_SECRET="your-cloudinary-api-secret"

# Third Party Payment APIs
GOBARAQAH_API_KEY="your-gobaraqah-api-key"
IBANTU_API_KEY="your-ibantu-api-key"
SETEL_API_KEY="your-setel-api-key"
TOUCHNGO_API_KEY="your-touchngo-api-key"
BILLPLZ_API_KEY="your-billplz-api-key"
TOYYIBPAY_API_KEY="your-toyyibpay-api-key"

# Monitoring and Analytics
SENTRY_DSN="your-sentry-dsn"
GOOGLE_ANALYTICS_ID="GA-XXXXXXXXX"

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_LOGIN_MAX=3

# Security Configuration
BCRYPT_ROUNDS=12
SESSION_TIMEOUT_MINUTES=60
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=30

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=false
ENABLE_SMS_VERIFICATION=false
ENABLE_OAUTH=false
ENABLE_MFA=false

# Push Notifications (Web Push API)
VAPID_PUBLIC_KEY="your-vapid-public-key"
VAPID_PRIVATE_KEY="your-vapid-private-key"
VAPID_EMAIL="mailto:admin@bersemuka.com"

# Webhook URLs
WEBHOOK_SECRET="your-webhook-secret"
PAYMENT_WEBHOOK_URL="/api/webhooks/payment"

# Development/Testing
TEST_DATABASE_URL="postgresql://username:password@localhost:5432/bersemuka_test"
ENABLE_DEBUG_LOGS=true
MOCK_EXTERNAL_APIS=false